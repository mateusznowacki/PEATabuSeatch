test_mode  ////// true dla automatycznych testow false dla recznego
algorithm_type // algorytm random albo nn dla rozwiazania poczatkowego
dynamic_tabu_list // czy dynamiczna lista tabu true albo false generowana na podstaiw rozmiaru grafu
procent_opt // procent optymalnego rozwiazania
time_max// czas w minutach
tabu_list_size // rozmiar listy tabu
max_iter_no_improve // maksymalna liczba iteracji bez poprawy
genNeighbour // rodzaj generowania sasiada swap albo insert
input_file // plik wejsciowy
output_file // plik wyjsciowy
name=test_instance // nazwa instancji
display_results // czy wyswietlac wyniki true albo false
show_progress // czy wyswietlac postep true albo false



kadencje co to i jak dziaÅ‚a w moim kodzie
ocena ruchu ktÃ³ry zostaÅ‚ wykonany mamy rozwiÄ…zanie tworzymy rozwiÄ…zanie
jak moÅ¼na przeglÄ…daÄ‡ otoczenie i jak je zmieniam
kryterium aspiracji co to na czym polega i jak u mnie jest
zdarzenie kytycze co to i jak jest u mnie
warunek stopu  czas liczba iteracji  jak jest u mnie
kryteriuma aspiracji  co to i jak wyglÄ…da u mnie
asp + bÅ‚Ä…d pomiarowy
 opt_cost=1776  top procent opt
 wierzchoÅ‚ki poczatkowe???
 funkcja oceny wartosci ruchu
 lista tabu kryterium aspiaracji aspiracja+
 dywersyfikacja i intensyfikacja
 metoda zdarzen krytycznych
 warunek stopu







nn random


funkcja oceny wartosci ruchu
lista tabu kryterium aspiaracji aspiracja+
dywersyfikacja i intensyfikacja
metoda zdarzen krytycznych
warunek stopu


1. Ryzyko wejÅ›cia w cykl jest tym mniejsze, im dÅ‚uÅ¼sze sÄ… kadencje.
ad. 2. MoÅ¼liwe jest badanie przestrzeni rozwiÄ…zaÅ„ odlegÅ‚ej od punktu ğ‘¥0.
ad. 3. MoÅ¼liwe jest blokowanie ruchÃ³w dajÄ…cych bardzo dobre rezultaty.

Im wiÄ™kszy rozmiar problemu, tym kadencje powinny byÄ‡ dÅ‚uÅ¼sze.
2. Im bardziej restrykcyjna jest lista tabu, czyli im mniejszy jest Å›rednio wspÃ³Å‚czynnik ğ‘â€² ğ‘¥
ğ‘ ğ‘¥
, tym krÃ³tsze
powinny byÄ‡ kadencje.
3. Kadencje mogÄ… choÄ‡ nie muszÄ… byÄ‡ staÅ‚e ani jednakowe dla kaÅ¼dego ruchu.
4. Kadencje mogÄ… byÄ‡ losowe â€“ wybÃ³r z pewnego zakresu.
5. Kadencje mogÄ… byÄ‡ cykliczne â€“ (12, 7, 4, 3, 1)
6. DÅ‚ugoÅ›Ä‡ kadencji moÅ¼e zaleÅ¼eÄ‡ od historii ruchu. JeÅ›li ruch powodowaÅ‚ wpadanie w cykle bÄ…dÅº dawaÅ‚
maÅ‚e poprawy, moÅ¼na go blokowaÄ‡ na dÅ‚uÅ¼ej â€“ dodanie funkcji kary.
7. I generalnie. Im wiÄ™cej wiemy o krajobrazie wartoÅ›ci funkcji celu (problemie), tym Å‚atwiej jest szacowaÄ‡
jakoÅ›Ä‡ ruchÃ³w i ich konsekwencje, a co za tym idzie ich przydatnoÅ›Ä‡ â€“ dodanie funkcji nagrody

im krÃ³tsza kadencja, tym:
â€¢ duÅ¼e niebezpieczeÅ„stwo utkniÄ™cia (pozostania) w lokalnym ekstremum (-)
â€¢ wiÄ™ksza dokÅ‚adnoÅ›Ä‡ wyznaczania rozwiÄ…zania â€“ Intensyfikacja (+)
im dÅ‚uÅ¼sza kadencje, tym:
â€¢ moÅ¼liwe gorsze znalezione rozwiÄ…zania â€“ brak Intensyfikacji (-)
â€¢ wiÄ™kszy zakres przeszukiwania â€“ Dywersyfikacja (+)
...
Generalnie i jak zawsze dla wszystkich metod metaheurystycznych.
Ustalanie wartoÅ›ci parametrÃ³w, tzw. strojenie, polega na eksperymentalnym sprawdzaniu wpÅ‚ywu zmian
wartoÅ›ci tych parametrÃ³w na zÅ‚oÅ¼onoÅ›Ä‡ obliczeniowÄ… i jakoÅ›Ä‡ uzyskiwanego rozwiÄ…zania â˜º


Kryterium aspiracji jest pewnÄ… reguÅ‚Ä… odstÄ™pstwa dla kaÅ¼dego rozwiÄ…zania ğ‘¥ğ‘˜ âˆˆ ğ‘ ğ‘¥ğ‘ , ktÃ³ra pozwala na
wykonanie ruchu z ğ‘¥ğ‘do ğ‘¥ğ‘˜nawet, jeÅ›li ruch jest na liÅ›cie tabu (jest zakazany). Kryterium aspiracji anuluje
zakaz ruchu wynikajÄ…cy z zasad listy tabu.
â€¦
Kryterium aspiracji jest funkcjÄ… ğ´ğ‘ ğ‘ğ‘–ğ‘Ÿğ‘ğ‘¡ğ‘–ğ‘œğ‘› ğ‘¥ğ‘, ğ‘¥ğ‘˜ przyjmujÄ…cÄ… wartoÅ›ci ğ‘¡ğ‘Ÿğ‘¢ğ‘’, ğ‘“ğ‘ğ‘™ğ‘ ğ‘’ .
JeÅ¼eli ğ´ğ‘ ğ‘ğ‘–ğ‘Ÿğ‘ğ‘¡ğ‘–ğ‘œğ‘› ğ‘¥ğ‘, ğ‘¥ğ‘˜ = ğ‘¡ğ‘Ÿğ‘¢ğ‘’, ruch powodujÄ…cy zmianÄ™ rozwiÄ…zania z ğ‘¥ğ‘na ğ‘¥ğ‘˜ jest dozwolony.
W przeciwnym wypadku nie jest.


ğ´ğ‘ ğ‘ğ‘–ğ‘Ÿğ‘ğ‘¡ğ‘–ğ‘œğ‘› ğ‘¥ğ‘, ğ‘¥ğ‘˜ = ğ‘¡ğ‘Ÿğ‘¢ğ‘’, jeÅ¼eli ğ‘“ ğ‘¥ğ‘˜ < ğ‘“ ğ‘¥ğ‘œğ‘ğ‘¡ * - ruch prowadzi do rozwiÄ…zania lepszego niÅ¼ najlepsze
znalezione do tej pory.
ğ´ğ‘ ğ‘ğ‘–ğ‘Ÿğ‘ğ‘¡ğ‘–ğ‘œğ‘› ğ‘¥ğ‘, ğ‘¥ğ‘˜ = ğ‘¡ğ‘Ÿğ‘¢ğ‘’, jeÅ¼eli ğ‘šğ‘’ğ‘£ğ‘ğ‘™ ğ‘¥ğ‘, ğ‘¥ğ‘˜ â‰¥ ğ›¼ â€“ wartoÅ›Ä‡ ruchu jest wiÄ™ksza od wartoÅ›ci parametru ğ›¼.
â€¦
KaÅ¼de inne, ktÃ³re wynika z doÅ›wiadczenia, struktury problemu, przebiegu algorytmu i powtarzalnie przynosi
pozytywne efekty.
â€¦
DefiniujÄ…c kryterium aspiracji naleÅ¼y uwzglÄ™dniÄ‡ jego obecnoÅ›Ä‡ w definicji otoczenia:
ğ‘
" ğ‘¥ğ‘ = ğ‘¥ğ‘˜ | ğ‘¥ğ‘˜ âˆˆ ğ‘ ğ‘¥ğ‘ âˆ© ğ‘¥ğ‘˜ âˆ‰ ğ‘¡ğ‘ğ‘ğ‘¢ğ‘™ğ‘–ğ‘ ğ‘¡ âˆª ğ´ğ‘ ğ‘ğ‘–ğ‘Ÿğ‘ğ‘¡ğ‘–ğ‘œğ‘› ğ‘¥ğ‘, ğ‘¥ğ‘˜ = ğ‘¡ğ‘Ÿğ‘¢ï¿½


wygeneruj rozwiÄ…zanie ğ‘¥
0 âˆˆ ğ‘†
âˆ— ğ‘¥ğ‘œğ‘ğ‘¡ âŸµ ğ‘¥
0
, ğ‘¥ğ‘ âŸµ ğ‘¥
0
, ğ‘¡ğ‘ğ‘ğ‘¢_ğ‘™ğ‘–ğ‘ ğ‘¡ âŸµ âˆ…
repeat
znajdÅº w ğ‘
" ğ‘¥ğ‘ takie ğ‘¥ğ‘˜, dla ktÃ³rego ğ‘€ğ‘‰ğ‘ğ‘™ ğ‘¥ğ‘, ğ‘¥ğ‘˜ jest najwiÄ™ksza
ğ‘¥ğ‘ âŸµ ğ‘¥ğ‘˜
if ğ‘“ ğ‘¥ğ‘ > ğ‘“ ğ‘¥ğ‘œğ‘ğ‘¡ then ğ‘¥ğ‘œğ‘ğ‘¡ âŸµ ğ‘¥ğ‘
zweryfikuj ğ‘¡ğ‘ğ‘ğ‘¢_ğ‘™ğ‘–ğ‘ ğ‘¡
do ğ‘’ğ‘™ğ‘’ğ‘šğ‘’ğ‘›ğ‘¡ âˆˆ ğ‘¡ğ‘ğ‘ğ‘¢_ğ‘™ğ‘–ğ‘ ğ‘¡ Ú€
âˆ’ âˆ’ ğ‘˜ğ‘ğ‘‘ğ‘’ğ‘›ğ‘ğ‘—ğ‘ğ‘–
if ğ‘˜ğ‘ğ‘‘ğ‘’ğ‘›ğ‘ğ‘—ğ‘ğ‘– = 0 then usuÅ„ element z ğ‘¡ğ‘ğ‘ğ‘¢_ğ‘™ğ‘–ğ‘ ğ‘¡
until warunek zakoÅ„czeni


JeÅ›li coÅ› jest dobre, to moÅ¼e byÄ‡ dobre z plusem â˜º
Podobnie, jak w przypadku przeszukiwania otoczenia (greedy, steepest, random), moÅ¼na zastosowaÄ‡ pewnÄ…
strategiÄ™ wyboru rozwiÄ…zania, ktÃ³ra pozwoli na zmniejszenie liczby sprawdzanych rozwiÄ…zaÅ„ naleÅ¼Ä…cych do
zbioru ğ‘
" ğ‘¥ğ‘ .
Taka strategia nazywana jest aspiracjÄ… plus, czyli:
â€¢ przeglÄ…damy zawsze mniej niÅ¼ ğ‘šğ‘–ğ‘›ğ‘€ i nie wiÄ™cej niÅ¼ ğ‘šğ‘ğ‘¥ğ‘€ rozwiÄ…zaÅ„ naleÅ¼Ä…cych do ğ‘
" ğ‘¥ğ‘ .
â€¢ jeÅ¼eli znajdziemy ğ‘¥ğ‘ âˆˆ ğ‘
" ğ‘¥ğ‘ takie, Å¼e ğ‘€ğ‘‰ğ‘ğ‘™ â‰¥ ğ´ğ‘ ğ‘ğ‘–ğ‘Ÿğ‘ğ‘¡ğ‘–ğ‘œğ‘› , to przeglÄ…damy jeszcze tylko nastÄ™pne ğ‘ƒğ‘™ğ‘¢ğ‘ 
rozwiÄ…zaÅ„, pamiÄ™tajÄ…c o zaÅ‚oÅ¼eniu z punktu 1.,
â€¢ przechodzimy do tego rozwiÄ…zania ğ‘¥ğ‘˜ (spoÅ›rÃ³d przeglÄ…dniÄ™tych), dla ktÃ³rego wartoÅ›Ä‡ ğ‘€ğ‘‰ğ‘ğ‘™ ğ‘¥ğ‘, ğ‘¥ğ‘˜ jest
najwiÄ™ksza.
dr inÅ¼. Tomasz KapÅ‚on
W04ITE-SM0066G r.a. 2024/2025
06/12/24
23 / 99
Tabu search
Strategia wyboru rozwiÄ…zaÅ„ z kryterium aspiracji
JeÅ¼eli po sprawdzeniu ğ¹ğ‘–ğ‘Ÿğ‘ ğ‘¡ â‰¤ ğ‘šğ‘ğ‘¥ğ‘€ ruchÃ³w zostaÅ‚o znalezione rozwiÄ…zanie przekraczajÄ…ce, co do
ğ‘€ğ‘‰ğ‘ğ‘™ ğ‘¥ğ‘, ğ‘¥ğ‘˜ pewien ustalony prÃ³g (ğ´ğ‘ ğ‘ğ‘–ğ‘Ÿğ‘ğ‘¡ğ‘–ğ‘œğ‘›), czyli ğ‘€ğ‘‰ğ‘ğ‘™ ğ‘¥ğ‘, ğ‘¥ğ‘˜ â‰¥ ğ´ğ‘ ğ‘ğ‘–ğ‘Ÿğ‘ğ‘¡ğ‘–ğ‘œğ‘›, to przeglÄ…damy jeszcze
ğ‘šğ‘–ğ‘› ğ‘šğ‘ğ‘¥ ğ¹ğ‘–ğ‘Ÿğ‘ ğ‘¡ + ğ‘ƒğ‘™ğ‘¢ğ‘ , ğ‘šğ‘–ğ‘›ğ‘€ , ğ‘šğ‘ğ‘¥ğ‘€ rozwiÄ…zaÅ„.
dr inÅ¼. Tomasz KapÅ‚on
W04ITE-SM0066G r.a. 2024/2025
06/12/24
ğ´ğ‘ ğ‘ğ‘–ğ‘Ÿğ‘ğ‘¡ğ‘–ğ‘œğ‘›
ğ‘€ğ‘‰ğ‘ğ‘™
1 2 3 4 5 6 7 8 9 10 11
ğ¹ğ‘–ğ‘Ÿğ‘ ğ‘¡ ğ‘šğ‘–ğ‘›ğ‘€ ğ‘šğ‘ğ‘¥ğ‘€
ğ‘ƒğ‘™ğ‘¢ğ‘ 
24 / 99
Tabu search
Czego jeszcze brakuje?
Tabu search jest metodÄ… przeszukiwania lokalnego.
PrzestrzeÅ„ rozwiÄ…zaÅ„ jest rozlegÅ‚a.
Zastosowanie listy tabu, aspiracji i aspiracji plus zwiÄ™ksza zakres eksplorowanej podprzestrzeni.
Jednak nadal podprzestrzeÅ„ to czÄ™Å›Ä‡ caÅ‚oÅ›ci, zwÅ‚aszcza dla problemÃ³w NP.
â€¦
Co naleÅ¼y jeszcze zrobiÄ‡, aby zwiÄ™kszyÄ‡ moÅ¼liwoÅ›ci metody TS w poszukiwaniu OPT?
â€¦
maÅ‚e podpowiedzi:
1. takie rozwiÄ…zanie byÅ‚o rozwaÅ¼ane juÅ¼ przy okazji omawiania local-search, jest proste i (wybiegajÄ…c nieco w przyszÅ‚oÅ›Ä‡), udaje algorytmy populacyjne?
2. byÅ‚o rozwaÅ¼ane jako jedno z kryteriÃ³w zatrzymania w symulowanym wyÅ¼arzaniu.
dr inÅ¼. Tomasz KapÅ‚on
W04ITE-SM0066G r.a. 2024/2025
06/12/24
25 / 99
Tabu search
Strategia dywersyfikacji
Strategia dywersyfikacji pozwala na przeglÄ…danie rÃ³Å¼nych obszarÃ³w przestrzeni rozwiÄ…zaÅ„.
DziaÅ‚a poprzez dwie funkcje:
metodÄ™ zdarzeÅ„ krytycznych ğ¶ğ‘Ÿğ‘–ğ‘¡ğ‘–ğ‘ğ‘ğ‘™ğ¸ğ‘£ğ‘’ğ‘›ğ‘¡ przyjmujÄ…cÄ… wartoÅ›ci ğ‘¡ğ‘Ÿğ‘¢ğ‘’, ğ‘“ğ‘ğ‘™ğ‘ ğ‘’ ;ğ¶ğ‘Ÿğ‘–ğ‘¡ğ‘–ğ‘ğ‘ğ‘™ğ¸ğ‘£ğ‘’ğ‘›ğ‘¡ = ğ‘¡ğ‘Ÿğ‘¢ğ‘’, kiedy
zaszÅ‚y okreÅ›lone przesÅ‚anki wskazujÄ…ce na koniecznoÅ›Ä‡ wygenerowania nowego rozwiÄ…zania ğ‘¥
0
, np. :
brak znalezienia lepszego rozwiÄ…zania przez ğ‘˜ kolejnych iteracji,
wykonano ğ‘˜ kolejnych iteracji od wygenerowania rozwiÄ…zania ğ‘¥
0
,
przez ğ‘˜ kolejnych iteracji ğ‘¥ğ‘ znajduje siÄ™ â€bliskoâ€ rozwiÄ…zania ğ‘¥
0
.
WywoÅ‚ywana jest wtedy funkcji ğ‘…ğ‘’ğ‘ ğ‘¡ğ‘ğ‘Ÿğ‘¡, generujÄ…ca nowe rozwiÄ…zanie ğ‘¥
0
. Funkcja ğ‘…ğ‘’ğ‘ ğ‘¡ğ‘ğ‘Ÿğ‘¡ powinna
wykorzystywaÄ‡ informacje o sprawdzonych wczeÅ›niej fragmentach przestrzeni rozwiÄ…zaÅ„ â€“ najlepiej na
podstawie znanego obrazu krajobrazu przestrzeni rozwiÄ…zaÅ„.
dr inÅ¼. Tomasz KapÅ‚on
W04ITE-SM0066G r.a. 2024/2025
06/12/24
26 / 99
Tabu search
Wersja 4 (TS4)
wygeneruj rozwiÄ…zanie ğ‘¥
0 âˆˆ ğ‘†
âˆ— ğ‘¥ğ‘œğ‘ğ‘¡ âŸµ ğ‘¥
0
, ğ‘¥ğ‘ âŸµ ğ‘¥
0
, ğ‘¡ğ‘ğ‘ğ‘¢_ğ‘™ğ‘–ğ‘ ğ‘¡ âŸµ âˆ…
repeat
znajdÅº w ğ‘
" ğ‘¥ğ‘ takie ğ‘¥ğ‘˜, dla ktÃ³rego ğ‘€ğ‘‰ğ‘ğ‘™ ğ‘¥ğ‘, ğ‘¥ğ‘˜ jest najwiÄ™ksza
ğ‘¥ğ‘ âŸµ ğ‘¥ğ‘˜
if ğ‘“ ğ‘¥ğ‘ > ğ‘“ ğ‘¥ğ‘œğ‘ğ‘¡ then ğ‘¥ğ‘œğ‘ğ‘¡ âŸµ ğ‘¥ğ‘
zweryfikuj ğ‘¡ğ‘ğ‘ğ‘¢_ğ‘™ğ‘–ğ‘ ğ‘¡
do ğ‘’ğ‘™ğ‘’ğ‘šğ‘’ğ‘›ğ‘¡ âˆˆ ğ‘¡ğ‘ğ‘ğ‘¢_ğ‘™ğ‘–ğ‘ ğ‘¡ Ú€
âˆ’ âˆ’ ğ‘˜ğ‘ğ‘‘ğ‘’ğ‘›ğ‘ğ‘—ğ‘ğ‘–
if ğ‘˜ğ‘ğ‘‘ğ‘’ğ‘›ğ‘ğ‘—ğ‘ğ‘– = 0 then usuÅ„ element z ğ‘¡ğ‘ğ‘ğ‘¢_ğ‘™ğ‘–ğ‘ ğ‘¡
if ğ¶ğ‘Ÿğ‘–ğ‘¡ğ‘–ğ‘ğ‘ğ‘™ğ¸ğ‘£ğ‘’ğ‘›ğ‘¡ = ğ‘¡ğ‘Ÿğ‘¢ğ‘’ then ğ‘¥
0 âŸµ ğ‘…ğ‘’ğ‘ ğ‘¡ğ‘ğ‘Ÿğ‘¡
until warunek zakoÅ„czenia
dr inÅ¼. Tomasz KapÅ‚on
W04ITE-SM0066G r.a. 2024/2025
06/12/24
27 / 99
Tabu search
Podsumowanie
Metoda Tabu search jest metodÄ… poszukiwania lokalnego z elementami pozwalajÄ…cymi na unikanie utykania w
ekstremach lokalnych i przeszukiwania znaczÄ…cÄ… wiÄ™kszego obszaru przestrzeni rozwiÄ…zaÅ„ niÅ¼ metoda
lokalnego przeszukiwania.
Nie posiada â€naturalnegoâ€ warunku zatrzymania. Trzeba go samodzielnie ustaliÄ‡. NajczÄ™Å›ciej jest to liczba
wykonanych iteracji algorytmu. MogÄ… byÄ‡ rÃ³wnieÅ¼ inne: czas, akceptowalnoÅ›Ä‡ wyniku itd..
EfektywnoÅ›Ä‡ czasowa i jakoÅ›ciowa zaleÅ¼na jest od parametrÃ³w metody, ktÃ³re naleÅ¼y dobieraÄ‡
eksperymentalnie dla konkretnego problemu